<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode | default " en" }}">

<head>
    {{ partial "head.html" . }}
</head>

<body class="theme-knowledge">
    {{ partial "header.html" . }}

    <main class="u-container u-py-xl">
        {{ block "main" . }}{{ end }}
    </main>

    {{ partial "footer.html" . }}

    <!-- Nano Banana Pro: Mermaid Processing -->
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';

        // Transform Hugo code blocks for Mermaid
        document.querySelectorAll('pre code.language-mermaid').forEach(el => {
            const pre = el.parentElement;
            const div = document.createElement('div');
            div.className = 'mermaid';
            div.textContent = el.textContent;
            pre.replaceWith(div);
        });

        mermaid.initialize({
            startOnLoad: true,
            theme: 'base',
            securityLevel: 'loose',
            themeVariables: {
                fontFamily: '"Patrick Hand", cursive',
                fontSize: '18px',
                primaryColor: '#fffef0',
                primaryTextColor: '#2c3e50',
                primaryBorderColor: '#2c3e50',
                lineColor: '#2c3e50',
                secondaryColor: '#f1c40f',
                tertiaryColor: '#fff'
            }
        });
    </script>
    <script src="{{ " js/copy-code.js" | relURL }}"></script>
    <script src="{{ " js/hn-interactions.js" | relURL }}"></script>
    <script src="{{ " js/image-zoom.js" | relURL }}"></script>
    <script src="{{ " js/ux-booster.js" | relURL }}"></script>
</body>


</html>